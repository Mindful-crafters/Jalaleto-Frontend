<div [dir]="'rtl'" class="containor">
  <form
    *ngIf="!isSignedClicked && !signUpSuccus && !signUpFail"
    [formGroup]="signUpForm"
    class="sign-up-form"
  >
    <div class="sign-up-title">ساخت حساب کاربری</div>

    <mat-form-field class="email-input" appearance="outline" hideRequiredMarker>
      <mat-label>ایمیل</mat-label>
      <input formControlName="email" matInput />
      <mat-error>لطفا آدرس ایمیل معتبر وارد کنید.</mat-error>
    </mat-form-field>

    <mat-form-field
      class="username-input"
      appearance="outline"
      hideRequiredMarker
    >
      <mat-label>نام کاربری</mat-label>
      <input formControlName="username" matInput />
      <mat-error>لطفا نام کاربری را وارد کنید.</mat-error>
    </mat-form-field>

    <mat-form-field
      class="password-input"
      appearance="outline"
      hideRequiredMarker
    >
      <mat-label>کلمه‌ی عبور</mat-label>
      <input
        [type]="passwordVisibility.checked ? 'text' : 'password'"
        formControlName="password"
        matInput
      />
      <mat-error
        >گذرواژه شامل حداقل 8 کاراکتر یک حرف بزرگ و یک عدد است.</mat-error
      >
    </mat-form-field>

    <mat-checkbox
      class="show-password-checkbox"
      disableRipple="true"
      #passwordVisibility
    ></mat-checkbox>
    <span class="show-password-text">نمایش گذرواژه</span>

    <button
      mat-button
      class="primary-button register-button full-width-btn"
      [disabled]="!signUpForm.valid"
      (click)="checkForm()"
    >
      ثبت نام
    </button>
    <div class="redirect-to-login">
      <span class="redirect-to-login-text">آیا حساب کاربری دارید؟</span>
      <button mat-button class="redirect-to-login-link" href="">
        ورود با حساب کاربری
      </button>
    </div>
  </form>

  <div *ngIf="isSignedClicked || signUpSuccus || signUpFail" class="email-verification-box">
    <span class="desc">کد فعال‌سازی حساب کاربری به ایمیل شما ارسال شد. اگر ظرف چند دقیقه ایمیل
      را دریافت نکردید، پوشه اسپم خود را بررسی کنید</span>

    <div>
      <p class="enter-code">کد را وارد نمایید :</p>

      <ngx-otp-input [dir]="'ltr'" [config]="otpInputConfig" (otpChange)="handeOtpChange($event)" (fill)="handleFillEvent($event)">
      </ngx-otp-input>

      <button
        (click)="verification()"
        mat-button
        class="primary-button verificate full-width-btn">
        ثبت نام
      </button>
    </div>
  </div>

  <div class="notif-box succus" *ngIf="signUpSuccus" [@fadeInOut]>
    <span class="title">ثبت نام شما با موقفیت انجام شد</span>
    <p class="message">در حال انتقال به صفحه ورود</p>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>

  <div class="notif-box fail" *ngIf="signUpFail" [@fadeInOut]>
    <span class="title">ثبت نام شما انجام نشد</span>

    <p class="message">لطفا کد ارسال شده را به درستی وارد نمایید</p>

    <div class="redirect-btn">
      <button
        mat-button
        class="primary-button full-width-btn">
        برگشت به صفحه ثبت نام
      </button>
    </div>
  </div>
</div>
